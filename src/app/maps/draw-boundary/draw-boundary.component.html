<div style="min-height: 492px;">
  <mat-tab-group [animationDuration]="0">
    <mat-tab label="Draw">
      <google-map
          #googleMap
          width="100%"
          height="400px"
          (mapClick)="onMapClick($event)"
          (zoomChanged)="onZoomChange()"
          (centerChanged)="onCenterChange()"
          [options]="options">
        <span *ngIf="selectedPolygon > -1">
          <map-marker
            *ngFor="let coord of multipolygon.polygons[selectedPolygon].boundary; index as i;"
            [position]="coord"
            [clickable]="true"
            (mapClick)="onOuterPolygonPointClick(i)">
          </map-marker>
        </span>
        <map-polygon
          *ngFor="let polygon of multipolygon.polygons; index as i"
          [paths]="polygon.path"
          [options]="polygonOptions"
          (polygonClick)="onOuterPolygonClick(i, $event)">
        </map-polygon>
      </google-map>
      <div style="padding-top: 8px;" fxLayout="row" class="button-row">
        <div *ngIf="mode === DrawBoundaryMode.Select; else drawingToolbar">
          <button mat-button (click)="drawBoundaryMode()">New Shape</button>
          <button mat-button [disabled]="this.selectedPolygon < 0" (click)="mode = DrawBoundaryMode.Boundary">Edit</button>
          <button mat-button [disabled]="true || selectedPolygon < 0" (click)="mode = DrawBoundaryMode.Hole">Hole</button>
        </div>
        <ng-template #drawingToolbar>
          <button mat-button (click)="mode = DrawBoundaryMode.Select">Done</button>
        </ng-template>
        <div class="h-fill"></div>
        <button mat-button color="warn" (click)="clearPolygons()">Clear</button>
      </div>
    </mat-tab>
    <mat-tab label="Data">
      <div style="height: 100%;">
        <mat-form-field appearance="outline">
          <mat-label>Well-Known Text</mat-label>
          <input
            matInput
            style="text-overflow: ellipsis;"
            placeholder="Well-Known Text"
            [ngModel]="wkt"
            disabled
            #ctrl="ngModel">
          <mat-icon
              matSuffix
              style="cursor: pointer;"
              [cdkCopyToClipboard]="wkt"
              (cdkCopyToClipboardCopied)="wktCopyResult($event)">
            content_copy
          </mat-icon>
        </mat-form-field>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
